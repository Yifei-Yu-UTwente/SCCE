---
layout:
title:
date: 2025-05-01 00:00:00 -1000
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IS2H4C - Industrial Symbiosis Marketplace</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #2E7D32;
            --secondary: #4CAF50;
            --dark: #1B5E20;
            --light: #C8E6C9;
            --supply: #1976D2;
            --demand: #FF6D00;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 1.5rem;
            margin-top: 1rem;
        }
        
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .sidebar-section {
            background-color: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .user-profile {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        
        .user-name {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .user-company {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .user-stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 1rem;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #777;
        }
        
        .sidebar-section h3 {
            margin-bottom: 1rem;
            color: var(--dark);
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }
        
        .filter-section {
            margin-bottom: 1.5rem;
        }
        
        .filter-section h4 {
            margin-bottom: 0.5rem;
            color: #555;
        }
        
        .hashtag-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .hashtag {
            background-color: var(--light);
            color: var(--dark);
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }
        
        .hashtag:hover, .hashtag.active {
            background-color: var(--primary);
            color: white;
        }
        
        .hashtag-remove {
            margin-left: 5px;
            font-size: 0.7rem;
            background: none;
            border: none;
            color: inherit;
            cursor: pointer;
        }
        
        .add-hashtag-container {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .add-hashtag-container input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.8rem;
        }
        
        .add-hashtag-container button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0 0.7rem;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .quickmatch-btn {
            width: 100%;
            background-color: var(--supply);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.7rem;
            cursor: pointer;
            font-weight: bold;
            text-align: center;
            text-decoration: none;
            display: block;
        }
        
        .quickmatch-btn:hover {
            background-color: #1565C0;
        }
        
        .feed {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .post-form {
            background-color: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        
        .post-form h3 {
            margin-bottom: 1rem;
            color: var(--dark);
        }
        
        .post-type-toggle {
            display: flex;
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .post-type-btn {
            flex: 1;
            padding: 0.5rem;
            text-align: center;
            cursor: pointer;
            border: none;
            background-color: white;
            transition: all 0.2s;
        }
        
        .post-type-btn.supply {
            border-right: 1px solid #ddd;
        }
        
        .post-type-btn.active {
            color: white;
        }
        
        .post-type-btn.supply.active {
            background-color: var(--supply);
        }
        
        .post-type-btn.demand.active {
            background-color: var(--demand);
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-row {
            display: flex;
            gap: 1rem;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .hashtag-input-container {
            display: flex;
            gap: 0.5rem;
        }
        
        .hashtag-input-container input {
            flex: 1;
        }
        
        .hashtag-input-container button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0 1rem;
            cursor: pointer;
        }
        
        .hashtag-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .submit-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.7rem 1.5rem;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        
        .submit-btn:hover {
            background-color: var(--dark);
        }
        
        .post {
            background-color: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .post-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .post-user {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .post-user-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
        }
        
        .post-user-info h4 {
            font-size: 1rem;
        }
        
        .post-user-info p {
            font-size: 0.8rem;
            color: #777;
        }
        
        .post-type {
            padding: 0.3rem 0.6rem;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
        }
        
        .post-type.supply {
            background-color: var(--supply);
        }
        
        .post-type.demand {
            background-color: var(--demand);
        }
        
        .post-content {
            margin: 1rem 0;
        }
        
        .post-content h3 {
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .post-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .post-detail {
            display: flex;
            gap: 0.5rem;
        }
        
        .post-detail i {
            color: var(--primary);
        }
        
        .post-detail-label {
            font-weight: bold;
            min-width: 80px;
        }
        
        .post-hashtags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .post-actions {
            display: flex;
            justify-content: space-between;
            border-top: 1px solid #eee;
            padding-top: 1rem;
            margin-top: 1rem;
        }
        
        .action-btn {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            background: none;
            border: none;
            color: #555;
            cursor: pointer;
            padding: 0.3rem 0.5rem;
            border-radius: 5px;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background-color: #f0f0f0;
        }
        
        .action-btn.liked {
            color: #E91E63;
        }
        
        .action-btn.bookmarked {
            color: #FFC107;
        }
        
        .delete-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: #f44336;
            cursor: pointer;
        }
        
        .search-bar {
            display: flex;
            margin-bottom: 1.5rem;
        }
        
        .search-bar input {
            flex: 1;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 5px 0 0 5px;
            border-right: none;
        }
        
        .search-bar button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            padding: 0 1.5rem;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            nav ul {
                display: none;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .post-details {
                grid-template-columns: 1fr;
            }
        }
        /* Add this to your existing styles */
        .apply-filters-btn {
            width: 100%;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.7rem;
            margin-top: 0.5rem;
            cursor: pointer;
            font-weight: bold;
        }
        
        .apply-filters-btn:hover {
            background-color: var(--dark);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">IS2H4C</div>
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Explore</a></li>
                <li><a href="#">Messages</a></li>
                <li><a href="#">Profile</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="container">
        <div class="search-bar">
            <input type="text" placeholder="Search for materials, companies, or locations...">
            <button><i class="fas fa-search"></i></button>
        </div>
        
        <div class="main-content">
            <div class="sidebar">
                <div class="sidebar-section user-profile">
                    <div class="user-avatar">
                        <i class="fas fa-industry"></i>
                    </div>
                    <div class="user-name">Industrial Solutions Co.</div>
                    <div class="user-company">Manufacturing & Recycling</div>
                    <div class="user-stats">
                        <div class="stat">
                            <div class="stat-value">24</div>
                            <div class="stat-label">Posts</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">37</div>
                            <div class="stat-label">Matches</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">89%</div>
                            <div class="stat-label">Rating</div>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>Filters</h3>
                    <div class="form-group">
                        <label for="post-type-filter">Post Type</label>
                        <select id="post-type-filter">
                            <option value="all">All Posts</option>
                            <option value="supply">Supply Only</option>
                            <option value="demand">Demand Only</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="category-filter">Category</label>
                        <select id="category-filter">
                            <option value="all">All Categories</option>
                            <option value="metals">Metals</option>
                            <option value="plastics">Plastics</option>
                            <option value="chemicals">Chemicals</option>
                            <option value="construction">Construction Materials</option>
                            <option value="textiles">Textiles</option>
                            <option value="machinery">Machinery & Equipment</option>
                            <option value="other">Other Industrial</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="location-filter">Location</label>
                        <select id="location-filter">
                            <option value="all">Anywhere</option>
                            <option value="local">Near Me</option>
                            <option value="north">North Region</option>
                            <option value="south">South Region</option>
                            <option value="east">East Region</option>
                            <option value="west">West Region</option>
                        </select>
                    </div>
                    
                     <div class="filter-section">
            <h4>Filter by Hashtags</h4>
            <div class="hashtag-list" id="filter-hashtags">
                <span class="hashtag">#steel<i class="fas fa-times hashtag-remove"></i></span>
                <span class="hashtag">#polymer<i class="fas fa-times hashtag-remove"></i></span>
                <span class="hashtag">#chemical<i class="fas fa-times hashtag-remove"></i></span>
                <span class="hashtag">#byproduct<i class="fas fa-times hashtag-remove"></i></span>
                <span class="hashtag">#wastewater<i class="fas fa-times hashtag-remove"></i></span>
                <span class="hashtag">#scrap<i class="fas fa-times hashtag-remove"></i></span>
            </div>
            <div class="add-hashtag-container">
                <input type="text" id="new-filter-hashtag" placeholder="Add new hashtag">
                <button id="add-filter-hashtag-btn">+</button>
            </div>
            <!-- Add this button -->
            <button id="apply-filters-btn" class="apply-filters-btn">Apply Filters</button>
        </div>
    </div>
                
                <a href="https://yifei-yu-utwente.github.io/SCCE/2025/02/01/MatchmakingToolTest.html" class="sidebar-section quickmatch-btn">
                    QuickMatch Tool
                </a>
            </div>
            
            <div class="feed">
                <div class="post-form">
                    <h3>Create a Post</h3>
                    <div class="post-type-toggle">
                        <button class="post-type-btn supply active">Supply Offer</button>
                        <button class="post-type-btn demand">Demand Request</button>
                    </div>
                    
                    <form id="new-post-form">
                        <div class="form-group">
                            <label for="post-title">Title*</label>
                            <input type="text" id="post-title" placeholder="Brief description of the material/resource" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="post-description">Detailed Description*</label>
                            <textarea id="post-description" placeholder="Provide technical specifications, composition, handling requirements, etc." required></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="post-category">Category*</label>
                                <select id="post-category" required>
                                    <option value="">Select a category</option>
                                    <option value="metals">Metals</option>
                                    <option value="plastics">Plastics</option>
                                    <option value="chemicals">Chemicals</option>
                                    <option value="construction">Construction Materials</option>
                                    <option value="textiles">Textiles</option>
                                    <option value="machinery">Machinery & Equipment</option>
                                    <option value="other">Other Industrial</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="post-location">Location*</label>
                                <input type="text" id="post-location" placeholder="City, State/Region" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="post-quantity">Quantity*</label>
                                <div style="display: flex; gap: 0.5rem;">
                                    <input type="number" id="post-quantity" placeholder="Amount" required style="flex: 1;">
                                    <select id="post-unit" required style="width: 100px;">
                                        <option value="kg">kg</option>
                                        <option value="tons">tons</option>
                                        <option value="liters">liters</option>
                                        <option value="cubic_m">m³</option>
                                        <option value="units">units</option>
                                        <option value="pallets">pallets</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="post-price">Price (if applicable)</label>
                                <input type="text" id="post-price" placeholder="Free / $ per unit">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="post-condition">Condition*</label>
                                <select id="post-condition" required>
                                    <option value="new">New</option>
                                    <option value="excellent">Excellent</option>
                                    <option value="good">Good</option>
                                    <option value="fair">Fair</option>
                                    <option value="needs_repair">Needs Repair</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="post-availability">Availability*</label>
                                <select id="post-availability" required>
                                    <option value="immediate">Immediate</option>
                                    <option value="1_week">Within 1 week</option>
                                    <option value="2_weeks">Within 2 weeks</option>
                                    <option value="1_month">Within 1 month</option>
                                    <option value="ongoing">Ongoing supply</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="post-hashtags">Hashtags</label>
                            <div class="hashtag-input-container">
                                <input type="text" id="post-hashtags" placeholder="Add relevant hashtags (e.g., #steel, #polymer)">
                                <button type="button" id="add-hashtag-btn">Add</button>
                            </div>
                            <div class="hashtag-preview" id="hashtag-preview">
                                <!-- Hashtags will be added here -->
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="post-images">Add Documentation (Spec sheets, photos, etc.)</label>
                            <input type="file" id="post-images" multiple>
                        </div>
                        
                        <button type="submit" class="submit-btn">Publish Post</button>
                    </form>
                </div>
                
                <div id="posts-container">
                    <!-- Posts will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Sample user data (in a real app, this would come from authentication)
        const currentUser = {
            id: 'user1',
            name: 'Industrial Solutions Co.',
            icon: 'industry'
        };
        
        // Sample initial posts data
        let posts = [
            {
                id: 'post1',
                userId: 'user2',
                userIcon: 'flask',
                userName: 'ChemiSolutions Ltd.',
                timeAgo: '1 day ago',
                distance: '25 miles away',
                type: 'demand',
                title: 'Seeking Industrial Solvent Byproducts for Reprocessing',
                description: 'Looking for toluene or xylene containing waste streams from painting or coating operations. Minimum 1000 liters per batch. Will handle transportation and provide certificates of proper treatment.',
                category: 'Chemicals',
                location: 'North Region preferred',
                quantity: '1000+ liters',
                price: 'Negotiable',
                condition: 'Any',
                availability: 'Ongoing need',
                hashtags: ['#chemical', '#solvent', '#byproduct', '#waste', '#reprocessing'],
                likes: 12,
                comments: 5,
                isLiked: true,
                isBookmarked: true
            },
            {
                id: 'post2',
                userId: 'user3',
                userIcon: 'boxes',
                userName: 'Plastico Recycling',
                timeAgo: '2 days ago',
                distance: '8 miles away',
                type: 'supply',
                title: 'HDPE Plastic Pellets - Post-Industrial Recycled',
                description: 'Consistent supply of high-quality HDPE pellets from post-industrial waste. Monthly availability of 15-20 tons. Certified composition available. Ideal for injection molding applications.',
                category: 'Plastics',
                location: 'Westside Industrial Zone',
                quantity: '15-20 tons/month',
                price: '$1.20/kg',
                condition: 'Excellent',
                availability: 'Ongoing supply',
                hashtags: ['#polymer', '#HDPE', '#recycled', '#plastic', '#circular'],
                likes: 6,
                comments: 2,
                isLiked: false,
                isBookmarked: false
            },
            {
                id: 'post3',
                userId: 'user4',
                userIcon: 'hard-hat',
                userName: 'ConstructAll Ltd.',
                timeAgo: '3 hours ago',
                distance: '12 miles away',
                type: 'supply',
                title: 'Surplus Steel Beams from Construction Project',
                description: 'Approximately 5 tons of steel I-beams (various sizes from 3m-6m length) available from completed construction project. ASTM A992 grade. Some surface rust but structurally sound.',
                category: 'Metals',
                location: 'Downtown Industrial Park',
                quantity: '5 tons',
                price: '$0.75/kg',
                condition: 'Good',
                availability: 'Immediate',
                hashtags: ['#steel', '#construction', '#beams', '#scrap', '#reuse'],
                likes: 8,
                comments: 3,
                isLiked: false,
                isBookmarked: true
            }
        ];
        
        // DOM elements
        const postsContainer = document.getElementById('posts-container');
        const newPostForm = document.getElementById('new-post-form');
        const addHashtagBtn = document.getElementById('add-hashtag-btn');
        const hashtagInput = document.getElementById('post-hashtags');
        const hashtagPreview = document.getElementById('hashtag-preview');
        const filterHashtagsContainer = document.getElementById('filter-hashtags');
        const addFilterHashtagBtn = document.getElementById('add-filter-hashtag-btn');
        const newFilterHashtagInput = document.getElementById('new-filter-hashtag');
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            renderPosts();
            setupEventListeners();
        });
        
        // Updated renderPosts function
        function renderPosts(filteredHashtags = []) {
            postsContainer.innerHTML = '';
            
            let postsToRender = posts;
            
            // Filter by hashtags if any are selected
            if (filteredHashtags.length > 0) {
                postsToRender = posts.filter(post => {
                    const postTags = post.hashtags.map(t => t.toLowerCase());
                    return filteredHashtags.every(filterTag => 
                        postTags.includes(filterTag)
                    );
                });
            }
            
            if (postsToRender.length === 0) {
                postsContainer.innerHTML = `
                    <div class="post">
                        <p>No posts match your selected filters.</p>
                        <p>Try selecting different hashtags or clearing filters.</p>
                    </div>
                `;
                return;
            }
            
            postsToRender.forEach(post => {
                const postElement = createPostElement(post);
                postsContainer.appendChild(postElement);
            });
        }
        
        // Create a post element
        function createPostElement(post) {
            const isCurrentUserPost = post.userId === currentUser.id;
            
            const postElement = document.createElement('div');
            postElement.className = 'post';
            postElement.dataset.id = post.id;
            
            postElement.innerHTML = `
                <div class="post-header">
                    <div class="post-user">
                        <div class="post-user-icon">
                            <i class="fas fa-${post.userIcon}"></i>
                        </div>
                        <div class="post-user-info">
                            <h4>${post.userName}</h4>
                            <p>Posted ${post.timeAgo} · ${post.distance}</p>
                        </div>
                    </div>
                    <span class="post-type ${post.type}">${post.type === 'supply' ? 'Supply' : 'Demand'}</span>
                </div>
                
                <div class="post-content">
                    <h3>${post.title}</h3>
                    <p>${post.description}</p>
                    
                    <div class="post-details">
                        <div class="post-detail">
                            <i class="fas fa-tag"></i>
                            <span class="post-detail-label">Category:</span>
                            <span>${post.category}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-map-marker-alt"></i>
                            <span class="post-detail-label">Location:</span>
                            <span>${post.location}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-balance-scale"></i>
                            <span class="post-detail-label">Quantity:</span>
                            <span>${post.quantity}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-dollar-sign"></i>
                            <span class="post-detail-label">Price:</span>
                            <span>${post.price}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-clipboard-check"></i>
                            <span class="post-detail-label">Condition:</span>
                            <span>${post.condition}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-calendar-alt"></i>
                            <span class="post-detail-label">Availability:</span>
                            <span>${post.availability}</span>
                        </div>
                    </div>
                    
                    <div class="post-hashtags">
                        ${post.hashtags.map(tag => `<span class="hashtag">${tag}</span>`).join('')}
                    </div>
                </div>
                
                <div class="post-actions">
                    <div class="action-buttons-left">
                        <button class="action-btn like-btn ${post.isLiked ? 'liked' : ''}">
                            <i class="${post.isLiked ? 'fas' : 'far'} fa-heart"></i>
                            <span>${post.likes}</span>
                        </button>
                        <button class="action-btn comment-btn">
                            <i class="far fa-comment"></i>
                            <span>${post.comments}</span>
                        </button>
                        <button class="action-btn share-btn">
                            <i class="fas fa-share"></i>
                            <span>Share</span>
                        </button>
                    </div>
                    <button class="action-btn bookmark-btn ${post.isBookmarked ? 'bookmarked' : ''}">
                        <i class="${post.isBookmarked ? 'fas' : 'far'} fa-bookmark"></i>
                    </button>
                </div>
            `;
            
            // Add delete button if it's the current user's post
            if (isCurrentUserPost) {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.addEventListener('click', () => deletePost(post.id));
                postElement.insertBefore(deleteBtn, postElement.firstChild);
            }
            
            return postElement;
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Toggle between supply and demand post types
            const postTypeBtns = document.querySelectorAll('.post-type-btn');
            postTypeBtns.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    postTypeBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Add hashtag to new post
            addHashtagBtn.addEventListener('click', addHashtagToPost);
            hashtagInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    addHashtagToPost();
                }
            });
            
            // Add hashtag to filter
            addFilterHashtagBtn.addEventListener('click', addHashtagToFilter);
            newFilterHashtagInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    addHashtagToFilter();
                }
            });
            
            // Remove the automatic filtering from hashtag clicks
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('hashtag-remove')) {
                    e.stopPropagation();
                    const hashtag = e.target.closest('.hashtag');
                    hashtag.remove();
                }
                
                if (e.target.closest('.hashtag') && !e.target.classList.contains('hashtag-remove')) {
                    const hashtag = e.target.closest('.hashtag');
                    hashtag.classList.toggle('active');
                }
            });

            // Add event listener for the Apply Filters button
            document.getElementById('apply-filters-btn').addEventListener('click', applyHashtagFilters);
        }

        // New function to apply filters when button is clicked
        function applyHashtagFilters() {
            const activeTags = document.querySelectorAll('#filter-hashtags .hashtag.active');
            const filteredTags = Array.from(activeTags).map(t => 
                t.textContent.replace('×', '').trim().toLowerCase()
            );
            renderPosts(filteredTags);
        }
            
            // Submit new post
            newPostForm.addEventListener('submit', function(e) {
                e.preventDefault();
                createNewPost();
            });
        }
        
        // Add hashtag to new post
        function addHashtagToPost() {
            const value = hashtagInput.value.trim();
            if (value && !value.includes(' ')) {
                const tag = document.createElement('span');
                tag.className = 'hashtag';
                tag.textContent = value.startsWith('#') ? value : `#${value}`;
                
                const removeBtn = document.createElement('button');
                removeBtn.innerHTML = '×';
                removeBtn.style.marginLeft = '5px';
                removeBtn.style.background = 'none';
                removeBtn.style.border = 'none';
                removeBtn.style.cursor = 'pointer';
                removeBtn.addEventListener('click', () => tag.remove());
                
                tag.appendChild(removeBtn);
                hashtagPreview.appendChild(tag);
                hashtagInput.value = '';
            }
        }
        
        // Add hashtag to filter
        function addHashtagToFilter() {
            const value = newFilterHashtagInput.value.trim();
            if (value && !value.includes(' ')) {
                const tag = document.createElement('span');
                tag.className = 'hashtag';
                tag.textContent = value.startsWith('#') ? value : `#${value}`;
                
                const removeIcon = document.createElement('i');
                removeIcon.className = 'fas fa-times hashtag-remove';
                
                tag.appendChild(removeIcon);
                filterHashtagsContainer.appendChild(tag);
                newFilterHashtagInput.value = '';
                
                // Update filters
                updateHashtagFilters();
            }
        }
        
        // Update hashtag filters
        function updateHashtagFilters() {
            const activeTags = document.querySelectorAll('#filter-hashtags .hashtag.active');
            const filteredTags = Array.from(activeTags).map(t => 
                t.textContent.replace('×', '').trim()
            );
            renderPosts(filteredTags);
        }
        
        // Create a new post - UPDATED VERSION
        function createNewPost() {
            const title = document.getElementById('post-title').value;
            const description = document.getElementById('post-description').value;
            const category = document.getElementById('post-category').value;
            const location = document.getElementById('post-location').value;
            const quantity = document.getElementById('post-quantity').value + ' ' + 
                            document.getElementById('post-unit').value;
            const price = document.getElementById('post-price').value || 'Free';
            const condition = document.getElementById('post-condition').value;
            const availability = document.getElementById('post-availability').value;
            const type = document.querySelector('.post-type-btn.active').classList.contains('supply') ? 'supply' : 'demand';
            
            // Get hashtags from preview - FIXED VERSION
            const hashtagElements = hashtagPreview.querySelectorAll('.hashtag');
            const hashtags = Array.from(hashtagElements).map(el => {
                // Get the text content and remove the × button text
                let tagText = el.textContent;
                if (tagText.includes('×')) {
                    tagText = tagText.substring(0, tagText.indexOf('×')).trim();
                }
                // Ensure it starts with #
                return tagText.startsWith('#') ? tagText : `#${tagText}`;
            });
            
            const newPost = {
                id: 'post' + (posts.length + 1),
                userId: currentUser.id,
                userIcon: currentUser.icon,
                userName: currentUser.name,
                timeAgo: 'Just now',
                distance: '0 miles away',
                type,
                title,
                description,
                category,
                location,
                quantity,
                price,
                condition,
                availability,
                hashtags: hashtags.length > 0 ? hashtags : ['#industrial'],
                likes: 0,
                comments: 0,
                isLiked: false,
                isBookmarked: false
            };
            
            posts.unshift(newPost);
            renderPosts();
            newPostForm.reset();
            hashtagPreview.innerHTML = '';
            
            // Scroll to the top to see the new post
            window.scrollTo(0, 0);
        }
        
        // Delete a post
        function deletePost(postId) {
            if (confirm('Are you sure you want to delete this post?')) {
                posts = posts.filter(post => post.id !== postId);
                renderPosts();
            }
        }
        
        // Like button functionality (delegated event)
        document.addEventListener('click', function(e) {
            if (e.target.closest('.like-btn')) {
                const likeBtn = e.target.closest('.like-btn');
                const icon = likeBtn.querySelector('i');
                const count = likeBtn.querySelector('span');
                const postId = likeBtn.closest('.post').dataset.id;
                const post = posts.find(p => p.id === postId);
                
                if (post) {
                    if (likeBtn.classList.contains('liked')) {
                        icon.classList.replace('fas', 'far');
                        count.textContent = parseInt(count.textContent) - 1;
                        post.likes--;
                        post.isLiked = false;
                    } else {
                        icon.classList.replace('far', 'fas');
                        count.textContent = parseInt(count.textContent) + 1;
                        post.likes++;
                        post.isLiked = true;
                    }
                    
                    likeBtn.classList.toggle('liked');
                }
            }
            
            // Bookmark button functionality
            if (e.target.closest('.bookmark-btn')) {
                const bookmarkBtn = e.target.closest('.bookmark-btn');
                const icon = bookmarkBtn.querySelector('i');
                const postId = bookmarkBtn.closest('.post').dataset.id;
                const post = posts.find(p => p.id === postId);
                
                if (post) {
                    if (bookmarkBtn.classList.contains('bookmarked')) {
                        icon.classList.replace('fas', 'far');
                        post.isBookmarked = false;
                    } else {
                        icon.classList.replace('far', 'fas');
                        post.isBookmarked = true;
                    }
                    
                    bookmarkBtn.classList.toggle('bookmarked');
                }
            }
        });
    </script>
</body>
</html>
