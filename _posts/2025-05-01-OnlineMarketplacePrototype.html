---
layout:
title:
date: 2025-05-01 00:00:00 -1000
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IS2H4C - Online Marketplace</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #2E7D32;
            --secondary: #4CAF50;
            --dark: #1B5E20;
            --light: #C8E6C9;
            --supply: #1976D2;
            --demand: #FF6D00;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
        }

        header a.logo {
            color: white;
            text-decoration: none;
        }

        header a.logo:hover {
            text-decoration: none;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 1.5rem;
            margin-top: 1rem;
        }
        
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .sidebar-section {
            background-color: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .user-profile {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        
        .user-name {
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .user-company {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .user-stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 1rem;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #777;
        }
        
        .sidebar-section h3 {
            margin-bottom: 1rem;
            color: var(--dark);
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }
        
        .filter-section {
            margin-bottom: 1.5rem;
        }
        
        .filter-section h4 {
            margin-bottom: 0.5rem;
            color: #555;
        }
        
        .hashtag-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .hashtag {
            background-color: var(--light);
            color: var(--dark);
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }
        
        .hashtag:hover, .hashtag.active {
            background-color: var(--primary);
            color: white;
        }
        
        .hashtag-remove {
            margin-left: 5px;
            font-size: 0.7rem;
            background: none;
            border: none;
            color: inherit;
            cursor: pointer;
        }
        
        .add-hashtag-container {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .add-hashtag-container input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.8rem;
        }
        
        .add-hashtag-container button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0 0.7rem;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .apply-filters-btn {
            width: 100%;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.7rem;
            margin-top: 0.5rem;
            cursor: pointer;
            font-weight: bold;
        }
        
        .apply-filters-btn:hover {
            background-color: var(--dark);
        }
        
        .quickmatch-btn {
            width: 100%;
            background-color: var(--supply);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.7rem;
            cursor: pointer;
            font-weight: bold;
            text-align: center;
            text-decoration: none;
            display: block;
        }
        
        .quickmatch-btn:hover {
            background-color: #1565C0;
        }
        
        .feed {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .post-form {
            background-color: white;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        
        .post-form h3 {
            margin-bottom: 1rem;
            color: var(--dark);
        }
    

       .post-type-btn {
    flex: 1;
    padding: 0.5rem;
    text-align: center;
    cursor: pointer;
    border: 1px solid #ddd;
    background-color: #f5f5f5;
    transition: all 0.2s;
    color: #333;
    font-weight: bold;
}

       .post-type-btn.active.supply {
    background-color: #1976D2;
    color: white;
    border-color: #1976D2;
}

.post-type-btn.active.demand {
    background-color: #FF6D00;
    color: white;
    border-color: #FF6D00;
}

.post-type-btn.active.transit {
    background-color: #9C27B0;
    color: white;
    border-color: #9C27B0;
}

.post-type-toggle {
    display: flex;
    margin-bottom: 1rem;
    border-radius: 5px;
    overflow: hidden;
    border: 1px solid #ddd;
}
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-row {
            display: flex;
            gap: 1rem;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .hashtag-input-container {
            display: flex;
            gap: 0.5rem;
        }
        
        .hashtag-input-container input {
            flex: 1;
        }
        
        .hashtag-input-container button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0 1rem;
            cursor: pointer;
        }
        
        .hashtag-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .submit-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.7rem 1.5rem;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        
        .submit-btn:hover {
            background-color: var(--dark);
        }
        
        .post {
            background-color: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .post-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .post-user {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .post-user-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
        }
        
        .post-user-info h4 {
            font-size: 1rem;
        }
        
        .post-user-info p {
            font-size: 0.8rem;
            color: #777;
        }
        
        .post-type {
            padding: 0.3rem 0.6rem;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
        }
        
        .post-type.supply {
            background-color: var(--supply);
        }
        
        .post-type.demand {
            background-color: var(--demand);
        }
        
        .post-content {
            margin: 1rem 0;
        }
        
        .post-content h3 {
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .post-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .post-detail {
            display: flex;
            gap: 0.5rem;
        }
        
        .post-detail i {
            color: var(--primary);
        }
        
        .post-detail-label {
            font-weight: bold;
            min-width: 80px;
        }
        
        .post-hashtags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .post-actions {
            display: flex;
            justify-content: space-between;
            border-top: 1px solid #eee;
            padding-top: 1rem;
            margin-top: 1rem;
        }
        
        .action-btn {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            background: none;
            border: none;
            color: #555;
            cursor: pointer;
            padding: 0.3rem 0.5rem;
            border-radius: 5px;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background-color: #f0f0f0;
        }
        
        .action-btn.liked {
            color: #E91E63;
        }
        
        .action-btn.bookmarked {
            color: #FFC107;
        }
        
        .delete-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: #f44336;
            cursor: pointer;
        }
        
        .search-bar {
            display: flex;
            margin-bottom: 1.5rem;
        }
        
        .search-bar input {
            flex: 1;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 5px 0 0 5px;
            border-right: none;
        }
        
        .search-bar button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            padding: 0 1.5rem;
            cursor: pointer;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 8px;
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            position: relative;
        }

        .close-modal {
            position: absolute;
            right: 1.5rem;
            top: 1rem;
            font-size: 1.5rem;
            color: #aaa;
            cursor: pointer;
        }

        .close-modal:hover {
            color: #333;
        }

        .create-post-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .create-post-btn:hover {
            background-color: var(--dark);
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            nav ul {
                display: none;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .post-details {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 90%;
                margin: 10% auto;
                padding: 1.5rem;
            }
        }

        .post-type-btn:hover {
        background-color: #e0e0e0;
        }

        .post-type-btn.supply:hover {
        background-color: #1976D2;
        color: white;
        }

        .post-type-btn.demand:hover {
        background-color: #FF6D00;
        color: white;
        }

        .post-type-btn.transit:hover {
        background-color: #9C27B0;
        color: white;
        }
    
    #preview-post-container {
    max-height: 60vh;
    overflow-y: auto;
    margin-top: 1rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 1.5rem;
        }

    #preview-modal .modal-content {
    max-height: 90vh;
    display: flex;
    flex-direction: column;
        }

    #preview-modal h3 {
    margin-bottom: 0;
    padding-bottom: 1rem;
    border-bottom: 1px solid #eee;
        }
        
    #preview-post-btn {
    margin-top: 1.5rem;
    margin-bottom: 1rem;
    align-self: flex-end; /* Align to right side of form */
    }

    .submit-btn {
    transition: all 0.2s ease;
    }

    .submit-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    </style>

</head>
<body>
    <header>
        <a href="https://yifei-yu-utwente.github.io/SCCE/2025/06/01/LoginPagePrototype.html" class="logo">IS2H4C</a>
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">Messages</a></li>
                <li><a href="#">Profile</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="container">
        <div class="search-bar">
            <input type="text" placeholder="Search for materials, companies, or locations...">
            <button><i class="fas fa-search"></i></button>
        </div>
        
        <div class="main-content">
            <div class="sidebar">
                <div class="sidebar-section user-profile">
                    <div class="user-avatar">
                        <i class="fas fa-industry"></i>
                    </div>
                    <div class="user-name">Industrial Solutions Co.</div>
                    <div class="user-company">Manufacturing & Recycling</div>
                    <div class="user-stats">
                        <div class="stat">
                            <div class="stat-value">24</div>
                            <div class="stat-label">Posts</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">37</div>
                            <div class="stat-label">Matches</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">89%</div>
                            <div class="stat-label">Rating</div>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>Filters</h3>
                    <div class="form-group">
                        <label for="post-type-filter">Post Type</label>
                        <select id="post-type-filter">
                            <option value="all">All Posts</option>
                            <option value="supply">Supply Only</option>
                            <option value="demand">Demand Only</option>
                            <option value="transit">Transit Only</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="category-filter">Category</label>
                        <select id="category-filter">
                            <option value="all">All Categories</option>
                            <option value="metals">Metals</option>
                            <option value="plastics">Plastics</option>
                            <option value="chemicals">Chemicals</option>
                            <option value="construction">Construction Materials</option>
                            <option value="textiles">Textiles</option>
                            <option value="machinery">Machinery & Equipment</option>
                            <option value="other">Other Industrial</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="location-filter">Location</label>
                        <select id="location-filter">
                            <option value="all">Anywhere</option>
                            <option value="local">Near Me</option>
                            <option value="north">North Region</option>
                            <option value="south">South Region</option>
                            <option value="east">East Region</option>
                            <option value="west">West Region</option>
                        </select>
                    </div>
                    
                    <div class="filter-section">
                        <h4>Filter by Hashtags</h4>
                        <div class="hashtag-list" id="filter-hashtags">
                            <span class="hashtag">#steel<i class="fas fa-times hashtag-remove"></i></span>
                            <span class="hashtag">#polymer<i class="fas fa-times hashtag-remove"></i></span>
                            <span class="hashtag">#chemical<i class="fas fa-times hashtag-remove"></i></span>
                            <span class="hashtag">#byproduct<i class="fas fa-times hashtag-remove"></i></span>
                            <span class="hashtag">#wastewater<i class="fas fa-times hashtag-remove"></i></span>
                            <span class="hashtag">#scrap<i class="fas fa-times hashtag-remove"></i></span>
                        </div>
                        <div class="add-hashtag-container">
                            <input type="text" id="new-filter-hashtag" placeholder="Add new hashtag">
                            <button id="add-filter-hashtag-btn">+</button>
                        </div>
                        <button id="apply-filters-btn" class="apply-filters-btn">Apply Filters</button>
                    </div>
                </div>
                
                <a href="https://yifei-yu-utwente.github.io/SCCE/2025/06/01/MatchingProfilePrototype.html" class="sidebar-section quickmatch-btn">
                    QuickMatch Toolbox
                </a>
            </div>
            
            <div class="feed">
                <button id="open-post-modal" class="create-post-btn">
                    <i class="fas fa-plus"></i> Create New Post
                </button>
                
                <div id="posts-container">
                    <!-- Posts will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Post Creation Modal -->
    <div id="post-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="post-form">
    <h3>Step 2: Create a New Post</h3>
    
    <form id="new-post-form">
        <div class="form-group">
            <label for="post-title">Title*</label>
            <input type="text" id="post-title" placeholder="Brief description of the material/resource" required maxlength="100">
            <small class="character-count" style="display: block; text-align: right; color: #777; font-size: 0.8rem;">100 characters remaining</small>
        </div>
        
        <div class="form-group">
            <label>Post Type*</label>
            <div class="post-type-toggle">
                <button type="button" class="post-type-btn supply">Supply</button>
                <button type="button" class="post-type-btn demand">Demand</button>
                <button type="button" class="post-type-btn transit">Transit</button>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="post-category">Category*</label>
                <div style="display: flex; gap: 0.5rem;">
                    <select id="post-category" required style="flex: 1;">
                        <option value="">Select a category</option>
                        <option value="metals">Metals</option>
                        <option value="plastics">Plastics</option>
                        <option value="chemicals">Chemicals</option>
                        <option value="construction">Construction Materials</option>
                        <option value="textiles">Textiles</option>
                        <option value="machinery">Machinery & Equipment</option>
                        <option value="other">Other Industrial</option>
                    </select>
                    <input type="text" id="new-category" placeholder="Or add new" style="flex: 1;">
                </div>
            </div>
            
            <div class="form-group">
                <label for="post-country">Country*</label>
                <select id="post-country" required>
                    <option value="">Select country</option>
                    <option value="US">United States</option>
                    <option value="CA">Canada</option>
                    <option value="UK">United Kingdom</option>
                    <option value="DE">Germany</option>
                    <option value="FR">France</option>
                    <option value="NL">Netherlands</option>
                    <option value="BE">Belgium</option>
                    <option value="other">Other</option>
                </select>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="post-location">City/Region*</label>
                <input type="text" id="post-location" placeholder="City, State/Region" required>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="post-quantity">Quantity*</label>
                <div style="display: flex; gap: 0.5rem;">
                    <input type="number" id="post-quantity" placeholder="Amount" required style="flex: 1;" min="1" step="1">
                    <select id="post-unit" required style="width: 100px;">
                        <option value="kg">kg</option>
                        <option value="tons">tons</option>
                        <option value="liters">liters</option>
                        <option value="cubic_m">m³</option>
                        <option value="units">units</option>
                        <option value="pallets">pallets</option>
                    </select>
                    <select id="post-frequency" required style="width: 120px;">
                        <option value="one_time">One time</option>
                        <option value="per_day">Per day</option>
                        <option value="per_week">Per week</option>
                        <option value="per_month">Per month</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="post-price">Price (if applicable)</label>
                <div style="display: flex; gap: 0.5rem;">
                    <select id="post-currency" style="width: 80px;">
                        <option value="USD">$</option>
                        <option value="EUR">€</option>
                        <option value="GBP">£</option>
                        <option value="CAD">C$</option>
                        <option value="other">Other</option>
                    </select>
                    <input type="number" id="post-price" placeholder="Amount per unit" min="0" step="0.01" style="flex: 1;">
                    <span id="price-unit-label" style="align-self: center; white-space: nowrap;">per unit</span>
                </div>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="post-condition">Condition*</label>
                <select id="post-condition" required>
                    <option value="new">New</option>
                    <option value="excellent">Excellent</option>
                    <option value="good">Good</option>
                    <option value="fair">Fair</option>
                    <option value="needs_repair">Needs Repair</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="post-availability">Availability*</label>
                <select id="post-availability" required>
                    <option value="immediate">Immediate</option>
                    <option value="1_week">Within 1 week</option>
                    <option value="2_weeks">Within 2 weeks</option>
                    <option value="1_month">Within 1 month</option>
                    <option value="ongoing">Ongoing supply</option>
                </select>
            </div>
        </div>
        
         <div class="form-group">
            <label for="contact-method">Preferred Contact Method* <small style="color: #f44336;">(Privacy sensitive, wait for user feedback)</small></label>
            <div class="form-row">
                <select id="contact-method-type" required style="flex: 1;">
                    <option value="">Select method</option>
                    <option value="email">Email</option>
                    <option value="phone">Phone</option>
                    <option value="whatsapp">WhatsApp</option>
                    <option value="linkedin">LinkedIn</option>
                    <option value="other">Other</option>
                </select>
                <input type="text" id="contact-method-value" placeholder="Your contact info" required style="flex: 1;">
            </div>
        </div>
        
        <div class="form-group">
            <label for="post-hashtags">Hashtags</label>
            <div class="hashtag-input-container">
                <input type="text" id="post-hashtags" placeholder="Add relevant hashtags (e.g., #steel, #polymer)">
                <button type="button" id="add-hashtag-btn">Add</button>
            </div>
            <div class="hashtag-preview" id="hashtag-preview">
                <!-- Hashtags will be added here -->
            </div>
        </div>
        
        <div class="form-group">
            <label for="post-description">Detailed Description* (max 250 words)</label>
            <textarea id="post-description" placeholder="Provide technical specifications, composition, handling requirements, etc." required></textarea>
            <small class="word-count" style="display: block; text-align: right; color: #777; font-size: 0.8rem;">250 words remaining</small>
        </div>
        
        <div class="form-group">
            <label for="post-images">Add Documentation (Spec sheets, photos, etc.)</label>
            <input type="file" id="post-images" multiple accept=".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx">
            <small style="display: block; color: #777; font-size: 0.8rem;">Allowed formats: PDF, JPG, PNG, DOC, XLS (Max 5MB each)</small>
        </div>
        
        <div class="form-group" style="margin-top: 2rem; display: flex; justify-content: flex-end;">
            <button type="button" id="preview-post-btn" class="submit-btn" style="padding: 0.8rem 2rem;">
                <i class="fas fa-eye"></i> Preview Post
            </button>
        </div>
    </form>
</div>
    
    
    <!-- Preview Modal -->
<div id="preview-modal" class="modal">
    <div class="modal-content" style="max-width: 800px;">
        <span class="close-modal">&times;</span>
        <h3>Preview Your Post</h3>
        <div id="preview-post-container" class="post">
            <!-- Preview content will be inserted here -->
        </div>
        <div style="display: flex; justify-content: space-between; margin-top: 20px;">
            <button id="edit-post-btn" class="submit-btn" style="background-color: #757575;">
                <i class="fas fa-edit"></i> Edit Post
            </button>
            <button id="confirm-publish-btn" class="submit-btn">
                <i class="fas fa-paper-plane"></i> Publish Post
            </button>
        </div>
    </div>
</div>
    
    
    <script>
        // Sample user data
        const currentUser = {
            id: 'user1',
            name: 'Industrial Solutions Co.',
            icon: 'industry'
        };
        
        // Sample initial posts data
        let posts = [
            {
                id: 'post1',
                userId: 'user2',
                userIcon: 'flask',
                userName: 'ChemiSolutions Ltd.',
                timeAgo: '1 day ago',
                distance: '25 miles away',
                type: 'demand',
                contactMethod: 'email: contact@chemisolutions.com',
                title: 'Seeking Industrial Solvent Byproducts for Reprocessing',
                description: 'Looking for toluene or xylene containing waste streams from painting or coating operations. Minimum 1000 liters per batch. Will handle transportation and provide certificates of proper treatment.',
                category: 'Chemicals',
                location: 'North Region preferred',
                quantity: '1000+ liters',
                price: 'Negotiable',
                condition: 'Any',
                availability: 'Ongoing need',
                hashtags: ['#chemical', '#solvent', '#byproduct', '#waste', '#reprocessing'],
                likes: 12,
                comments: 5,
                isLiked: true,
                isBookmarked: true
            },
            {
                id: 'post2',
                userId: 'user3',
                userIcon: 'boxes',
                userName: 'Plastico Recycling',
                timeAgo: '2 days ago',
                distance: '8 miles away',
                type: 'supply',
                contactMethod: 'phone: +1234567890',
                title: 'HDPE Plastic Pellets - Post-Industrial Recycled',
                description: 'Consistent supply of high-quality HDPE pellets from post-industrial waste. Monthly availability of 15-20 tons. Certified composition available. Ideal for injection molding applications.',
                category: 'Plastics',
                location: 'Westside Industrial Zone',
                quantity: '15-20 tons/month',
                price: '$1.20/kg',
                condition: 'Excellent',
                availability: 'Ongoing supply',
                hashtags: ['#polymer', '#HDPE', '#recycled', '#plastic', '#circular'],
                likes: 6,
                comments: 2,
                isLiked: false,
                isBookmarked: false
            },
            {
                id: 'post3',
                userId: 'user4',
                userIcon: 'hard-hat',
                userName: 'ConstructAll Ltd.',
                timeAgo: '3 hours ago',
                distance: '12 miles away',
                type: 'transit',
                contactMethod: 'whatsapp: +9876543210',
                title: 'Transportation Services Available',
                description: 'We have available trucks and drivers for transporting industrial materials throughout the region. Can handle hazardous materials with proper certification.',
                category: 'Other Industrial',
                location: 'Downtown Industrial Park',
                quantity: '5 trucks available',
                price: '$1.50 per mile',
                condition: 'Excellent',
                availability: 'Immediate',
                hashtags: ['#transport', '#logistics', '#shipping'],
                likes: 8,
                comments: 3,
                isLiked: false,
                isBookmarked: true
            }
        ];
        
        // DOM elements
        const postsContainer = document.getElementById('posts-container');
        const newPostForm = document.getElementById('new-post-form');
        const addHashtagBtn = document.getElementById('add-hashtag-btn');
        const hashtagInput = document.getElementById('post-hashtags');
        const hashtagPreview = document.getElementById('hashtag-preview');
        const filterHashtagsContainer = document.getElementById('filter-hashtags');
        const addFilterHashtagBtn = document.getElementById('add-filter-hashtag-btn');
        const newFilterHashtagInput = document.getElementById('new-filter-hashtag');
        const applyFiltersBtn = document.getElementById('apply-filters-btn');
        const modal = document.getElementById('post-modal');
        const openModalBtn = document.getElementById('open-post-modal');
        const closeModalBtn = document.querySelector('.close-modal');
        
        
        document.getElementById('post-title').addEventListener('input', function() {
    const remaining = 100 - this.value.length;
    document.querySelector('.character-count').textContent = `${remaining} characters remaining`;
        });

        // Update price unit label when frequency changes
        document.getElementById('post-frequency').addEventListener('change', function() {
            const unitLabels = {
                'one_time': 'total',
                'per_day': 'per day',
                'per_week': 'per week',
                'per_month': 'per month'
            };
            document.getElementById('price-unit-label').textContent = unitLabels[this.value];
        });

        // Initialize the price unit label
        document.getElementById('price-unit-label').textContent = 'per unit';

        // Prevent negative numbers in quantity and price
        document.getElementById('post-quantity').addEventListener('change', function() {
            if (this.value < 1) this.value = 1;
        });

        document.getElementById('post-price').addEventListener('change', function() {
            if (this.value < 0) this.value = 0;
        });
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            renderPosts();
            setupEventListeners();
        });
        
        // Render all posts
        function renderPosts(filteredHashtags = []) {
            postsContainer.innerHTML = '';
            
            let postsToRender = posts;
            
            // Filter by hashtags if any are selected
            if (filteredHashtags.length > 0) {
                postsToRender = posts.filter(post => {
                    const postTags = post.hashtags.map(t => t.toLowerCase());
                    return filteredHashtags.every(filterTag => 
                        postTags.includes(filterTag.toLowerCase())
                    );
                });
            }
            
            if (postsToRender.length === 0) {
                postsContainer.innerHTML = `
                    <div class="post">
                        <p>No posts match your selected filters.</p>
                        <p>Try selecting different hashtags or clearing filters.</p>
                    </div>
                `;
                return;
            }
            
            postsToRender.forEach(post => {
                const postElement = createPostElement(post);
                postsContainer.appendChild(postElement);
            });
        }
        
        // Create a post element
        function createPostElement(post) {
            const isCurrentUserPost = post.userId === currentUser.id;
            
            const postElement = document.createElement('div');
            postElement.className = 'post';
            postElement.dataset.id = post.id;
            
            // Determine post type display
            let typeBadgeClass = 'post-type ' + post.type;
            let typeText = '';
            if (post.type === 'supply') {
                typeText = 'Supply';
            } else if (post.type === 'demand') {
                typeText = 'Demand';
            } else {
                typeText = 'Transit';
            }
            
            postElement.innerHTML = `
                <div class="post-header">
                    <div class="post-user">
                        <div class="post-user-icon">
                            <i class="fas fa-${post.userIcon}"></i>
                        </div>
                        <div class="post-user-info">
                            <h4>${post.userName}</h4>
                            <p>Posted ${post.timeAgo} · ${post.distance}</p>
                        </div>
                    </div>
                    <span class="${typeBadgeClass}">${typeText}</span>
                </div>
                
                <div class="post-content">
                    <h3>${post.title}</h3>
                    <p>${post.description}</p>
                    
                    <div class="post-details">
                        <div class="post-detail">
                            <i class="fas fa-tag"></i>
                            <span class="post-detail-label">Category:</span>
                            <span>${post.category}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-map-marker-alt"></i>
                            <span class="post-detail-label">Location:</span>
                            <span>${post.location}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-balance-scale"></i>
                            <span class="post-detail-label">Quantity:</span>
                            <span>${post.quantity}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-dollar-sign"></i>
                            <span class="post-detail-label">Price:</span>
                            <span>${post.price}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-clipboard-check"></i>
                            <span class="post-detail-label">Condition:</span>
                            <span>${post.condition}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-calendar-alt"></i>
                            <span class="post-detail-label">Availability:</span>
                            <span>${post.availability}</span>
                        </div>
                        <div class="post-detail">
                            <i class="fas fa-envelope"></i>
                            <span class="post-detail-label">Contact:</span>
                            <span>${post.contactMethod}</span>
                        </div>
                    </div>
                    
                    <div class="post-hashtags">
                        ${post.hashtags.map(tag => `<span class="hashtag">${tag}</span>`).join('')}
                    </div>
                </div>
                
                <div class="post-actions">
                    <div class="action-buttons-left">
                        <button class="action-btn like-btn ${post.isLiked ? 'liked' : ''}">
                            <i class="${post.isLiked ? 'fas' : 'far'} fa-heart"></i>
                            <span>${post.likes}</span>
                        </button>
                        <button class="action-btn comment-btn">
                            <i class="far fa-comment"></i>
                            <span>${post.comments}</span>
                        </button>
                        <button class="action-btn share-btn">
                            <i class="fas fa-share"></i>
                            <span>Share</span>
                        </button>
                    </div>
                    <button class="action-btn bookmark-btn ${post.isBookmarked ? 'bookmarked' : ''}">
                        <i class="${post.isBookmarked ? 'fas' : 'far'} fa-bookmark"></i>
                    </button>
                </div>
            `;
            
            // Add delete button if it's the current user's post
            if (isCurrentUserPost) {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.addEventListener('click', () => deletePost(post.id));
                postElement.insertBefore(deleteBtn, postElement.firstChild);
            }
            
            return postElement;
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Modal functionality
            const modal = document.getElementById('post-modal');
            const openModalBtn = document.getElementById('open-post-modal');
            const closeModalBtn = document.querySelector('.close-modal');

            openModalBtn.addEventListener('click', () => {
                modal.style.display = 'block';
            });

            closeModalBtn.addEventListener('click', () => {
                modal.style.display = 'none';
            });

            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });

            // Post type toggle functionality
        const postTypeBtns = document.querySelectorAll('.post-type-btn');
        postTypeBtns.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                postTypeBtns.forEach(b => {
                    b.classList.remove('active');
                    // Reset all buttons to inactive state
                 b.style.opacity = '0.7';
                b.style.backgroundColor = '#f5f5f5';
                b.style.color = '#333';
        });
        
        this.classList.add('active');
            // Set active button styles based on type
        if (this.classList.contains('supply')) {
            this.style.backgroundColor = '#1976D2';
            this.style.color = 'white';
        } else if (this.classList.contains('demand')) {
            this.style.backgroundColor = '#FF6D00';
            this.style.color = 'white';
        } else if (this.classList.contains('transit')) {
            this.style.backgroundColor = '#9C27B0';
            this.style.color = 'white';
        }
        });
        });
        
            // Word counter for description
        document.getElementById('post-description').addEventListener('input', function() {
            const words = this.value.trim() ? this.value.trim().split(/\s+/) : [];
            const remaining = 250 - words.length;
            const counter = document.querySelector('.word-count');
            counter.textContent = `${remaining} words remaining`;
    
            if (remaining < 0) {
                counter.style.color = '#f44336';
            } else {
                counter.style.color = '#777';
            }
        });

        // File type validation
        document.getElementById('post-images').addEventListener('change', function() {
            const allowedTypes = ['application/pdf', 'image/jpeg', 'image/png', 
                         'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                         'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'];
    const maxSize = 5 * 1024 * 1024; // 5MB
    
    for (let i = 0; i < this.files.length; i++) {
        const file = this.files[i];
        
        if (!allowedTypes.includes(file.type)) {
            alert(`File "${file.name}" has an invalid type. Please upload only PDF, JPG, PNG, DOC or XLS files.`);
            this.value = '';
            return;
        }
        
        if (file.size > maxSize) {
            alert(`File "${file.name}" is too large. Maximum file size is 5MB.`);
            this.value = '';
            return;
        }
        
        // Additional check for .exe files that might slip through
        if (file.name.toLowerCase().endsWith('.exe')) {
            alert('Executable files (.exe) are not allowed for security reasons.');
            this.value = '';
            return;
        }
    }
});
            
            
            // Hashtag functionality
            addHashtagBtn.addEventListener('click', addHashtagToPost);
            hashtagInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    addHashtagToPost();
                }
            });
            
            addFilterHashtagBtn.addEventListener('click', addHashtagToFilter);
            newFilterHashtagInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    addHashtagToFilter();
                }
            });
            
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('hashtag-remove')) {
                    e.stopPropagation();
                    const hashtag = e.target.closest('.hashtag');
                    hashtag.remove();
                }
                
                if (e.target.closest('.hashtag') && !e.target.classList.contains('hashtag-remove')) {
                    const hashtag = e.target.closest('.hashtag');
                    hashtag.classList.toggle('active');
                }
            });
            
            applyFiltersBtn.addEventListener('click', applyHashtagFilters);
            
            // Form submission
            
            newPostForm.addEventListener('submit', function(e) {
                e.preventDefault();
                createNewPost();
                modal.style.display = 'none';
            });
        }
        
        // Add hashtag to new post
        function addHashtagToPost() {
            const value = hashtagInput.value.trim();
            if (value && !value.includes(' ')) {
                const tag = document.createElement('span');
                tag.className = 'hashtag';
                tag.textContent = value.startsWith('#') ? value : `#${value}`;
                
                const removeBtn = document.createElement('button');
                removeBtn.innerHTML = '×';
                removeBtn.style.marginLeft = '5px';
                removeBtn.style.background = 'none';
                removeBtn.style.border = 'none';
                removeBtn.style.cursor = 'pointer';
                removeBtn.addEventListener('click', () => tag.remove());
                
                tag.appendChild(removeBtn);
                hashtagPreview.appendChild(tag);
                hashtagInput.value = '';
            }
        }
        
        // Add hashtag to filter
        function addHashtagToFilter() {
            const value = newFilterHashtagInput.value.trim();
            if (value && !value.includes(' ')) {
                const tag = document.createElement('span');
                tag.className = 'hashtag';
                tag.textContent = value.startsWith('#') ? value : `#${value}`;
                
                const removeIcon = document.createElement('i');
                removeIcon.className = 'fas fa-times hashtag-remove';
                
                tag.appendChild(removeIcon);
                filterHashtagsContainer.appendChild(tag);
                newFilterHashtagInput.value = '';
            }
        }
        
        // Apply hashtag filters
        function applyHashtagFilters() {
            const activeTags = document.querySelectorAll('#filter-hashtags .hashtag.active');
            const filteredTags = Array.from(activeTags).map(t => 
                t.textContent.replace('×', '').trim()
            );
            renderPosts(filteredTags);
        }
        
        // Create a new post
        function createNewPost() {
            // Get post type
            const activeTypeBtn = document.querySelector('.post-type-btn.active');
            const type = activeTypeBtn.classList.contains('supply') ? 'supply' : 
                        activeTypeBtn.classList.contains('demand') ? 'demand' : 'transit';

            // Get category (use new if provided)
            let category = document.getElementById('post-category').value;
            const newCategory = document.getElementById('new-category').value.trim();
            if (newCategory && (!category || category === 'other')) {
                category = newCategory;
            }

            // Get contact method
            const contactMethodType = document.getElementById('contact-method-type').value;
            const contactMethodValue = document.getElementById('contact-method-value').value;
            const contactMethod = `${contactMethodType}: ${contactMethodValue}`;

            // Get hashtags from preview
            const hashtagElements = hashtagPreview.querySelectorAll('.hashtag');
            const hashtags = Array.from(hashtagElements).map(el => {
                let tagText = el.textContent;
                if (tagText.includes('×')) {
                    tagText = tagText.substring(0, tagText.indexOf('×')).trim();
                }
                return tagText.startsWith('#') ? tagText : `#${tagText}`;
            });

            // Create new post object
            const newPost = {
                id: 'post' + (posts.length + 1),
                userId: currentUser.id,
                userIcon: currentUser.icon,
                userName: currentUser.name,
                timeAgo: 'Just now',
                distance: '0 miles away',
                type,
                title: document.getElementById('post-title').value,
                description: document.getElementById('post-description').value,
                category,
                location: document.getElementById('post-location').value,
                quantity: document.getElementById('post-quantity').value + ' ' + 
                         document.getElementById('post-unit').value,
                price: document.getElementById('post-price').value || 'Free',
                condition: document.getElementById('post-condition').value,
                availability: document.getElementById('post-availability').value,
                contactMethod,
                hashtags: hashtags.length > 0 ? hashtags : ['#industrial'],
                likes: 0,
                comments: 0,
                isLiked: false,
                isBookmarked: false
            };

            posts.unshift(newPost);
            renderPosts();
            newPostForm.reset();
            hashtagPreview.innerHTML = '';
            
            window.scrollTo(0, 0);
        }
        
        // Delete a post
        function deletePost(postId) {
            if (confirm('Are you sure you want to delete this post?')) {
                posts = posts.filter(post => post.id !== postId);
                renderPosts();
            }
        }
        
        // Like button functionality
        document.addEventListener('click', function(e) {
            if (e.target.closest('.like-btn')) {
                const likeBtn = e.target.closest('.like-btn');
                const icon = likeBtn.querySelector('i');
                const count = likeBtn.querySelector('span');
                const postId = likeBtn.closest('.post').dataset.id;
                const post = posts.find(p => p.id === postId);
                
                if (post) {
                    if (likeBtn.classList.contains('liked')) {
                        icon.classList.replace('fas', 'far');
                        count.textContent = parseInt(count.textContent) - 1;
                        post.likes--;
                        post.isLiked = false;
                    } else {
                        icon.classList.replace('far', 'fas');
                        count.textContent = parseInt(count.textContent) + 1;
                        post.likes++;
                        post.isLiked = true;
                    }
                    
                    likeBtn.classList.toggle('liked');
                }
            }
            
            // Bookmark button functionality
            if (e.target.closest('.bookmark-btn')) {
                const bookmarkBtn = e.target.closest('.bookmark-btn');
                const icon = bookmarkBtn.querySelector('i');
                const postId = bookmarkBtn.closest('.post').dataset.id;
                const post = posts.find(p => p.id === postId);
                
                if (post) {
                    if (bookmarkBtn.classList.contains('bookmarked')) {
                        icon.classList.replace('fas', 'far');
                        post.isBookmarked = false;
                    } else {
                        icon.classList.replace('far', 'fas');
                        post.isBookmarked = true;
                    }
                    
                    bookmarkBtn.classList.toggle('bookmarked');
                }
            }
        });
        
        // Preview Post Button Click Handler
document.getElementById('preview-post-btn').addEventListener('click', function() {
    if (validateForm()) {
        showPreview();
    }
});

// Edit Post Button Click Handler
document.getElementById('edit-post-btn').addEventListener('click', function() {
    document.getElementById('preview-modal').style.display = 'none';
});

// Confirm Publish Button Click Handler
document.getElementById('confirm-publish-btn').addEventListener('click', function() {
    document.getElementById('preview-modal').style.display = 'none';
    createNewPost(); // Your existing post creation function
});

// Form Validation Function
function validateForm() {
    const title = document.getElementById('post-title').value.trim();
    const description = document.getElementById('post-description').value.trim();
    const contactValue = document.getElementById('contact-method-value').value.trim();
    
    if (!title || !description || !contactValue) {
        alert('Please fill in all required fields before previewing');
        return false;
    }
    
    const selectedType = document.querySelector('.post-type-btn.active');
    if (!selectedType) {
        alert('Please select a post type (Supply, Demand, or Transit)');
        return false;
    }
    
    return true;
}

// Show Preview Function
function showPreview() {
    const previewContainer = document.getElementById('preview-post-container');
    const postType = document.querySelector('.post-type-btn.active').classList.contains('supply') ? 'supply' : 
                     document.querySelector('.post-type-btn.active').classList.contains('demand') ? 'demand' : 'transit';
    
    // Get all form values
    const title = document.getElementById('post-title').value;
    const description = document.getElementById('post-description').value;
    const category = document.getElementById('post-category').value || document.getElementById('new-category').value;
    const country = document.getElementById('post-country').value;
    const location = document.getElementById('post-location').value;
    const quantity = document.getElementById('post-quantity').value;
    const unit = document.getElementById('post-unit').value;
    const frequency = document.getElementById('post-frequency').value;
    const price = document.getElementById('post-price').value;
    const currency = document.getElementById('post-currency').value;
    const condition = document.getElementById('post-condition').value;
    const availability = document.getElementById('post-availability').value;
    const contactMethod = `${document.getElementById('contact-method-type').value}: ${document.getElementById('contact-method-value').value}`;
    
    // Create hashtags preview
    const hashtagElements = hashtagPreview.querySelectorAll('.hashtag');
    const hashtags = Array.from(hashtagElements).map(el => {
        let tagText = el.textContent;
        if (tagText.includes('×')) {
            tagText = tagText.substring(0, tagText.indexOf('×')).trim();
        }
        return tagText.startsWith('#') ? tagText : `#${tagText}`;
    });
    
    // Generate preview HTML
    previewContainer.innerHTML = `
        <div class="post-header">
            <div class="post-user">
                <div class="post-user-icon">
                    <i class="fas fa-${currentUser.icon}"></i>
                </div>
                <div class="post-user-info">
                    <h4>${currentUser.name}</h4>
                    <p>Preview • Your location</p>
                </div>
            </div>
            <span class="post-type ${postType}">${postType.charAt(0).toUpperCase() + postType.slice(1)}</span>
        </div>
        
        <div class="post-content">
            <h3>${title}</h3>
            <p>${description}</p>
            
            <div class="post-details">
                <div class="post-detail">
                    <i class="fas fa-tag"></i>
                    <span class="post-detail-label">Category:</span>
                    <span>${category}</span>
                </div>
                <div class="post-detail">
                    <i class="fas fa-globe"></i>
                    <span class="post-detail-label">Country:</span>
                    <span>${country}</span>
                </div>
                <div class="post-detail">
                    <i class="fas fa-map-marker-alt"></i>
                    <span class="post-detail-label">Location:</span>
                    <span>${location}</span>
                </div>
                <div class="post-detail">
                    <i class="fas fa-balance-scale"></i>
                    <span class="post-detail-label">Quantity:</span>
                    <span>${quantity} ${unit} (${frequency.replace('_', ' ')})</span>
                </div>
                ${price ? `
                <div class="post-detail">
                    <i class="fas fa-dollar-sign"></i>
                    <span class="post-detail-label">Price:</span>
                    <span>${currency}${price} per ${frequency === 'one_time' ? 'total' : frequency.replace('_', ' ')}</span>
                </div>
                ` : ''}
                <div class="post-detail">
                    <i class="fas fa-clipboard-check"></i>
                    <span class="post-detail-label">Condition:</span>
                    <span>${condition.replace('_', ' ')}</span>
                </div>
                <div class="post-detail">
                    <i class="fas fa-calendar-alt"></i>
                    <span class="post-detail-label">Availability:</span>
                    <span>${availability.replace('_', ' ')}</span>
                </div>
                <div class="post-detail">
                    <i class="fas fa-envelope"></i>
                    <span class="post-detail-label">Contact:</span>
                    <span>${contactMethod}</span>
                </div>
            </div>
            
            ${hashtags.length > 0 ? `
            <div class="post-hashtags">
                ${hashtags.map(tag => `<span class="hashtag">${tag}</span>`).join('')}
            </div>
            ` : ''}
        </div>
        
        <div class="post-actions">
            <div class="action-buttons-left">
                <button class="action-btn">
                    <i class="far fa-heart"></i>
                    <span>0</span>
                </button>
                <button class="action-btn">
                    <i class="far fa-comment"></i>
                    <span>0</span>
                </button>
            </div>
            <button class="action-btn">
                <i class="far fa-bookmark"></i>
            </button>
        </div>
        
        <div style="margin-top: 20px; padding: 15px; background-color: #f5f5f5; border-radius: 5px;">
            <p style="color: #2E7D32;"><i class="fas fa-info-circle"></i> This is a preview of how your post will appear to others.</p>
            <p style="color: #f44336;"><i class="fas fa-exclamation-triangle"></i> Please review carefully before publishing as this information will be publicly visible.</p>
        </div>
    `;
    
    // Show the preview modal
    document.getElementById('preview-modal').style.display = 'block';
    }
    </script>
</body>
</html>
